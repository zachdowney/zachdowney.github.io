YUI.add("hermes-template-photo-list-album-interaction",function(n,l){var e=n.Template.Handlebars.revive({1:function(n,l,e,t,a){return" has-actions"},3:function(n,l,e,t,a){var s,o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<span class="metadot">&middot;</span>\n\t\t\t\t<span class="album-views-count-wrapper">\n\t\t\t\t\t<span class="album-views-label secondary">\n\t\t\t\t\t\t'+n.escapeExpression((o(e,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{selectedCount:null!=(s=null!=l?o(l,"album"):l)?o(s,"viewCount"):s,intlName:"album-page.VIEWS_COUNT"},data:a,loc:{start:{line:12,column:6},end:{line:12,column:85}}}))+"\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n"},5:function(n,l,e,t,a){var s,o=null!=l?l:n.nullContext||{},r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t<div class="actions '+(null!=(s=r(e,"unless").call(o,null!=(s=null!=l?r(l,"album"):l)?r(s,"isOwner"):s,{name:"unless",hash:{},fn:n.program(6,a,0),inverse:n.noop,data:a,loc:{start:{line:19,column:22},end:{line:19,column:68}}}))?s:"")+'">\n\t\t\t<a class="share cta'+(null!=(s=r(e,"unless").call(o,null!=(s=null!=l?r(l,"album"):l)?r(s,"canShare"):s,{name:"unless",hash:{},fn:n.program(8,a,0),inverse:n.noop,data:a,loc:{start:{line:20,column:22},end:{line:20,column:71}}}))?s:"")+'" title="'+(null!=(s=r(e,"if").call(o,null!=(s=null!=l?r(l,"album"):l)?r(s,"canShare"):s,{name:"if",hash:{},fn:n.program(10,a,0),inverse:n.program(12,a,0),data:a,loc:{start:{line:20,column:80},end:{line:20,column:226}}}))?s:"")+'"><span></span></a>\n'+(null!=(s=r(e,"if").call(o,null!=(s=null!=l?r(l,"album"):l)?r(s,"isOwner"):s,{name:"if",hash:{},fn:n.program(14,a,0),inverse:n.noop,data:a,loc:{start:{line:21,column:3},end:{line:23,column:10}}}))?s:"")+(null!=(s=r(e,"if").call(o,null!=l?r(l,"enableDownloading"):l,{name:"if",hash:{},fn:n.program(16,a,0),inverse:n.noop,data:a,loc:{start:{line:24,column:3},end:{line:26,column:10}}}))?s:"")+(null!=(s=r(e,"if").call(o,null!=l?r(l,"enableDeleting"):l,{name:"if",hash:{},fn:n.program(18,a,0),inverse:n.noop,data:a,loc:{start:{line:27,column:3},end:{line:29,column:10}}}))?s:"")+"\t\t</div>\n"},6:function(n,l,e,t,a){return"less-items"},8:function(n,l,e,t,a){return" is-disabled"},10:function(n,l,e,t,a){var s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression((s(e,"intlMessage")||l&&s(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"album-page.SHARE_THIS_ALBUM"},data:a,loc:{start:{line:20,column:102},end:{line:20,column:156}}}))},12:function(n,l,e,t,a){var s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression((s(e,"intlMessage")||l&&s(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"share-modal.SHARING_DISABLED"},data:a,loc:{start:{line:20,column:164},end:{line:20,column:219}}}))},14:function(n,l,e,t,a){var s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<a class="book cta" title="'+n.escapeExpression((s(e,"intlMessage")||l&&s(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"album-page.CREATE_BOOK_FROM_ALBUM"},data:a,loc:{start:{line:22,column:31},end:{line:22,column:91}}}))+'"><span></span></a>\n'},16:function(n,l,e,t,a){var s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<a class="download cta" title="'+n.escapeExpression((s(e,"intlMessage")||l&&s(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"common.DOWNLOAD"},data:a,loc:{start:{line:25,column:35},end:{line:25,column:77}}}))+'"><span></span></a>\n'},18:function(n,l,e,t,a){var s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<a class="trash cta" title="'+n.escapeExpression((s(e,"intlMessage")||l&&s(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"album-page.DELETE_THIS_ALBUM"},data:a,loc:{start:{line:28,column:32},end:{line:28,column:87}}}))+'"><span></span></a>\n'},compiler:[8,">= 4.3.0"],main:function(n,l,e,t,a){var s,o=null!=l?l:n.nullContext||{},r=n.lambda,i=n.escapeExpression,u=n.hooks.helperMissing,c=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<div class="photo-list-album-interaction dark'+(null!=(s=c(e,"if").call(o,null!=l?c(l,"enableActions"):l,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:1,column:45},end:{line:1,column:85}}}))?s:"")+'" data-albumId="'+i(r(null!=(s=null!=l?c(l,"album"):l)?c(s,"id"):s,l))+'">\n\t<a class="overlay" href="'+i(r(null!=(s=null!=l?c(l,"album"):l)?c(s,"url"):s,l))+'"></a>\n\t<div class="interaction-bar">\n\t\t<div class="metadata">\n\t\t\t<h4 class="album-title">'+i((c(e,"truncate")||l&&c(l,"truncate")||u).call(o,null!=(s=null!=l?c(l,"album"):l)?c(s,"title"):s,120,!1,!0,{name:"truncate",hash:{},data:a,loc:{start:{line:5,column:27},end:{line:5,column:66}}}))+'</h4>\n\t\t\t<span class="album-photo-count secondary">'+i(r(null!=(s=null!=l?c(l,"album"):l)?c(s,"photoAndVideosDisplay"):s,l))+"</span>\n\n"+(null!=(s=(c(e,"ifCond")||l&&c(l,"ifCond")||u).call(o,null!=(s=null!=l?c(l,"album"):l)?c(s,"viewCount"):s,">",0,{name:"ifCond",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:8,column:3},end:{line:15,column:14}}}))?s:"")+"\t\t</div>\n\n"+(null!=(s=c(e,"if").call(o,null!=l?c(l,"enableActions"):l,{name:"if",hash:{},fn:n.program(5,a,0),inverse:n.noop,data:a,loc:{start:{line:18,column:2},end:{line:31,column:9}}}))?s:"")+"\t</div>\n</div>\n"},useData:!0}),t={};n.Array.each([],function(l){var e=n.Template.get("hermes/"+l);e&&(t[l]=e)}),n.Template.register("hermes/photo-list-album-interaction",function(l,a){return a=a||{},a.partials=a.partials?n.merge(t,a.partials):t,e(l,a)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("photo-list-album-interaction-view",function(e){var t=require("hermes-core/type-validator");e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return""===this.get("container").get("innerHTML")&&this.setContainerHTML(""),this},loadState:function(){return e.Promise.resolve()},buildContainer:function(){var e,t=this.get("model");return e={album:this.get("model").toJSON()},(t.getValue("canShare")||t.getValue("isOwner")||this.appContext.flipper.isFlipped("enable-album-download")&&t.getValue("canDownload"))&&(e.enableActions=!0),(this.appContext.flipper.isFlipped("enable-just-your-album-download")&&t.getValue("isOwner")||this.appContext.flipper.isFlipped("enable-album-download")&&t.getValue("canDownload"))&&(e.enableDownloading=!0),t.getValue("isOwner")&&!t.getValue("isAutoUploadSet")&&(e.enableDeleting=!0),this.setContainerWithTemplate("photo-list-album-interaction",e),this},activate:function(){return this},destructor:function(){}},{ATTRS:{id:{writeOnce:"initOnly",validator:function(e,n){return t.photoId(e)}},model:{writeOnce:"initOnly"},albumPageUrl:{writeOnce:"initOnly"},engagement:{value:null},engagementModelName:{writeOnce:"initOnly",value:null,validator:function(t,n){return e.AttributeHelpers.validateString(t)}}}})},"@VERSION@",{requires:["flickr-view","hermes-template-photo-list-album-interaction","attribute-helpers"],optionalRequires:["fluid"],langBundles:["models","common","album-page","share-modal"]});