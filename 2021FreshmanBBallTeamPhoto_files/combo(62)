YUI.add("hermes-template-fluid-magic-tools",function(l,t){var e=l.Template.Handlebars.revive({1:function(l,t,e,n,a){var o=l.lookupProperty||function(l,t){if(Object.prototype.hasOwnProperty.call(l,t))return l[t]};return'\t\t<div class="share-link">\n\t\t\t'+l.escapeExpression((o(e,"outlet")||t&&o(t,"outlet")||l.hooks.helperMissing).call(null!=t?t:l.nullContext||{},null!=t?o(t,"shareView"):t,{name:"outlet",hash:{},data:a,loc:{start:{line:9,column:3},end:{line:9,column:23}}}))+"\n\t\t</div>\n"},3:function(l,t,e,n,a){var o,i=null!=t?t:l.nullContext||{},r=l.hooks.helperMissing,s=l.escapeExpression,u=l.lookupProperty||function(l,t){if(Object.prototype.hasOwnProperty.call(l,t))return l[t]};return'\t\t\t<a class="edit-link" href="'+s("function"==typeof(o=null!=(o=u(e,"editUrl")||(null!=t?u(t,"editUrl"):t))?o:r)?o.call(i,{name:"editUrl",hash:{},data:a,loc:{start:{line:16,column:30},end:{line:16,column:41}}}):o)+'" title="'+s((u(e,"intlMessage")||t&&u(t,"intlMessage")||r).call(i,{name:"intlMessage",hash:{intlName:"photostream.EDIT_PHOTO_INFO"},data:a,loc:{start:{line:16,column:50},end:{line:16,column:104}}}))+'">\n\t\t\t\t<span class="fluid-edit-icon"></span>\n\t\t\t</a>\n'},compiler:[8,">= 4.3.0"],main:function(l,t,e,n,a){var o,i=null!=t?t:l.nullContext||{},r=l.hooks.helperMissing,s=l.escapeExpression,u=l.lookupProperty||function(l,t){if(Object.prototype.hasOwnProperty.call(l,t))return l[t]};return'<div class="fluid-centered fluid-magic-toolbar">\n\t<div class="primary-tools-container">\n\t\t'+s((u(e,"outlet")||t&&u(t,"outlet")||r).call(i,null!=t?u(t,"photostream-filter-tools-view"):t,{name:"outlet",hash:{},data:a,loc:{start:{line:3,column:2},end:{line:3,column:42}}}))+'\n\t</div>\n\n\t<div class="secondary-tools">\n'+(null!=(o=u(e,"if").call(i,null!=t?u(t,"shareView"):t,{name:"if",hash:{},fn:l.program(1,a,0),inverse:l.noop,data:a,loc:{start:{line:7,column:2},end:{line:11,column:9}}}))?o:"")+"\t\t"+s((u(e,"outlet")||t&&u(t,"outlet")||r).call(i,null!=t?u(t,"fluid-magic-slideshow-view"):t,{name:"outlet",hash:{},data:a,loc:{start:{line:12,column:2},end:{line:12,column:39}}}))+"\n\t\t"+s((u(e,"outlet")||t&&u(t,"outlet")||r).call(i,null!=t?u(t,"fluid-magic-search-view"):t,{name:"outlet",hash:{},data:a,loc:{start:{line:13,column:2},end:{line:13,column:36}}}))+"\n\n"+(null!=(o=u(e,"if").call(i,null!=t?u(t,"displayEditLink"):t,{name:"if",hash:{},fn:l.program(3,a,0),inverse:l.noop,data:a,loc:{start:{line:15,column:2},end:{line:19,column:9}}}))?o:"")+"\t</div>\n</div>\n"},useData:!0}),n={};l.Array.each([],function(t){var e=l.Template.get("hermes/"+t);e&&(n[t]=e)}),l.Template.register("hermes/fluid-magic-tools",function(t,a){return a=a||{},a.partials=a.partials?l.merge(n,a.partials):n,e(t,a)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("fluid-magic-tools-view",function(e){e.namespace("Views")[this.name]=e.Base.create("fluid-magic-tools-view",e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this.set("selected",""),this.set("isEmptyPage",e.isEmptyPage),e.subnavConfig&&e.subnavConfig.selected&&this.set("selected",e.subnavConfig.selected),this.ownerNsid=e.nsid,this.page=e.pageParams&&e.pageParams.nominalPage,this},loadState:function(){var i=this;return e.Promise.resolve(this.appContext.getModel("person-models",this.ownerNsid)).then(function(e){i.set("personModel",e)})},subviewConfig:{"fluid-share-photostream-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1,parentViewName:this.name,disabled:function(e){return"photostream"!==this.get("selected")}},"fluid-share-favorites-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1,parentViewName:this.name,disabled:function(e){return"favorites"!==this.get("selected")}},"photostream-filter-tools-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,disabled:function(){return"photostream"!==this.get("selected")||!this.appContext.getViewer().signedIn},additionalViewClasses:["primary-tools"]},"fluid-magic-search-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,disabled:function(){return!!this.get("isEmptyPage")},additionalViewClasses:["closed"]},"fluid-magic-slideshow-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,disabled:function(){return!!this.get("isEmptyPage")}}},buildContainer:function(){var i,t=this.appContext.getViewer(),s=t.signedIn&&t.nsid===this.ownerNsid,r=e.URLHelper.generatePersonUrls(this.get("personModel"));return i={shareView:this.getShareViewContainer(),displayEditLink:"photostream"===this.get("selected")&&s&&!this.get("isEmptyPage")},null!==this.appContext.getLocation().href.match(/\/photos\/[^\/]+\/page/)?i.editUrl=r.photostreamEdit+"/page"+this.page:i.editUrl=r.photostreamEdit,this.setContainerWithTemplate("fluid-magic-tools",i),this},getShareViewContainer:function(){var e="";return this.subviews["fluid-share-"+this.get("selected")+"-view"]&&(e=this.subviews["fluid-share-"+this.get("selected")+"-view"].get("container")),e}})},"@VERSION@",{requires:["flutil","flickr-view","flickr-promise","fluid-share-photostream-view","fluid-share-favorites-view","fluid-magic-slideshow-view","photostream-filter-tools-view","hermes-template-fluid-magic-tools"],langBundles:["share-modal","common","photostream"]});YUI.add("hermes-lang-photostream",function(r,a){r.Intl.add("hermes/photostream","en-US",{EDIT_CAMERAROLL_ORGANIZR:["Edit in <a href='","${camerarollUrl}","'>Camera Roll</a> or <a href='","${organizrUrl}","'>Organizr</a>"],EDIT_PHOTO_INFO:["Edit photo info"]})},"@VERSION@",{requires:["intl"]});